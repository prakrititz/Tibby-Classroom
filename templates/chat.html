<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat</title>
    <style>
        @import url("https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;500;600;700;800&family=Tilt+Neon&display=swap");

        * {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
            font-family: "Nunito", sans-serif;
        }

        body {
            background: rgb(67, 69, 112);
            background: radial-gradient(
                circle,
                rgba(67, 69, 112, 1) 3%,
                rgba(35, 36, 57, 1) 60%
            );                     
            color: #fff;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 80px;
            background-color: rgba(0, 0, 0, 0.5);
        }

        .logo {
            font-family: "Tilt Neon", sans-serif;
            font-size: 1.5rem;
            color: #fff;
        }

        nav ul {
            display: flex;
            list-style: none;
        }

        nav ul li {
            margin-left: 20px;
        }

        nav ul li a {
            color: #fff;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        nav ul li a:hover {
            color: rgb(117, 152, 242);
        }

        .chat-container {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        .ai-image {
            width: 60%;
            background-color: rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            align-items: center;
            background-image: url(https://t3.ftcdn.net/jpg/06/84/59/22/360_F_684592278_xAceXmIN3m7d3AKj52NDAOuXaeRvEJVC.jpg) ;
            background-repeat: no-repeat;
            background-size: cover;
            padding: 20px;
        }

        .ai-image img {
            max-width: 100%;
            max-height: 50%;
            object-fit: contain;
        }

        .chat-interface {
            width: 40%;
            display: flex;
            flex-direction: column;
            padding: 20px;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .message {
            margin-bottom: 20px;
            padding: 10px;
            border-radius: 5px;
            max-width: 80%;
            font-size: 12px;
        }

        .user-message {
            background-color: rgba(117, 152, 242, 0.3);
            align-self: flex-end;
            margin-left: auto;
        }

        .ai-message {
            background-color: rgba(255, 255, 255, 0.2);
        }

        .chat-input {
            display: flex;
            align-items: center;
            border-radius: 5px;
            background-color: rgba(255, 255, 255, 0.2);
            padding: 5px;
        }

        .chat-input input {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 5px;
            font-size: 1rem;
            background-color: transparent;
            color: #fff;
            outline: none;
        }

        .chat-input img {
            cursor: pointer;
            height: 35px;
            margin-left: 10px;
            border-radius: 5px;
        }

        .chat-input button {
            padding: 10px 15px;
            background-color: rgb(117, 152, 242);
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            margin-left: 10px;
        }

        footer {
            background-color: rgba(0, 0, 0, 0.5);
            padding: 10px;
            text-align: center;
        }

        img{
            border-radius: 50%;
        }

        .nav-bar-box{
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .options{
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            margin-bottom: 10px;
        }

        .quiz-options{
        margin: 10px;
        padding: 4px 8px;
        background-color: rgb(117, 152, 242);
        color: #fff;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s ease;
        }

        .mascot-dialog{
            width: 100%;
            display: flex;
            justify-content:space-between;
            align-items: center;
            gap:-10px;
        }


        .dialog-box{
            flex-grow: 1;
            background-color: rgba(0, 0, 0, 0.7);
            border-radius: 10px;
            padding: 15px;
            color: #fff;
            font-size: 16px;
            line-height: 1.4;
            max-width: calc(100% - 120px);
            min-height: 100px;
            max-height: 100%;
            display: flex;
            align-items: center;
            overflow-wrap: break-word;
            word-wrap: break-word;
        }

        .box-for-mascot{
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            align-items: center;
        }

    </style>
</head>
<body>
    <header>
        <div class="logo">Tibby's Classroom</div>
        <nav>
            <ul class="nav-bar-box">
                <li><a href="{{ url_for('home') }}">Home</a></li>
                <li><a href="{{ url_for('friends') }}">Friends</a></li>
                <li><a href="{{ url_for('my_learnings') }}">My Learnings</a></li>
                <li><a href="#">AI Chat</a></li>
                <li><a href="{{ url_for('profile') }}"><img src="{{ current_user.picture }}" alt="{{current_user.name}}" height="40"></a></li>
                <li><a href="{{ url_for('logout') }}">Logout</a></li>
            </ul>
        </nav>
    </header>

    <div class="chat-container">
        <div class="ai-image">
            <div class="mascot-dialog">
                <img src="{{ url_for('static', filename='images/tile003_nobg.png') }}" alt="AI Mentor" height="160">
                <div class="message ai-message dialog-box">
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse pellente.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse pellentesque, risus non facilisis ultrices, mi nibh varius massa, eu tempor sem libero nec elit. Nulla condimentum turpis quis dolor fermentum scelerisque. Morbi lacinia, velit at mattis congue, erat diam ullamcorper nulla, sit amet faucibus elit nunc a nulla. Praesent ac ornare nisl, quis venenatis dolor. Sed aliquet risus augue, ut placerat orci porttitor interdum. Pellentesque volutpat congue accumsan. Nulla erat enim, facilisis vitae faucibus quis, interdum eget ipsum. Mauris cursus porttitor efficitur. Maecenas sed lacus neque. Vivamus leo metus, semper sit amet sodales sit amet, rutrum eget eros. Nunc tincidunt enim tellus, at dictum tortor scelerisque eget. Pellentesque sed faucibus lacus. Suspendisse viverra, sapien quis aliquet pharetra, arcu tellus cursus mi, quis pretium nisl metus luctus lorem.
                </div>
            </div>
        </div>
        <div class="chat-interface">
            <div class="chat-messages">
                <div class="message ai-message">
                    Answer this question
                </div>
                <div class="options">
                    <button class="quiz-options">Option A</button>
                    <button class="quiz-options">Option B</button>
                    <button class="quiz-options">Option C</button>
                    <button class="quiz-options">Option D</button>
                </div>
                <div class="message ai-message">
                    Hello! I'm your AI mentor. How can I assist you today?
                </div>
                <div class="message user-message">
                    Hi! I'm looking for advice on improving my public speaking skills.
                </div>
                <div class="message ai-message">
                    Great question! Improving public speaking skills is crucial for professional growth. Here are some tips to get you started:

                    1. Practice regularly
                    2. Record yourself and analyze your performance
                    3. Join a public speaking club like Toastmasters
                    4. Focus on body language and voice modulation
                    5. Start with small audiences and gradually increase

                    Would you like more detailed information on any of these points?
                </div>
            </div>
            <div class="chat-input">
                <input type="text" placeholder="Ask Tibby...">
                <img src="{{ url_for('static', filename='images/mindmap.png') }}" alt="Mindmap" title="Mindmap">
                <img src="{{ url_for('static', filename='images/quiz.png') }}" alt="Quiz" title="Quiz">
                <img src="{{ url_for('static', filename='images/reference.png') }}" alt="Reference" title="Reference">
                <button>Send</button>
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; 2024 Tibby's Classroom. All rights reserved.</p>
    </footer>
    <script>
        // Basic chat functionality
        const chatMessages = document.querySelector('.chat-messages');
        const chatInput = document.querySelector('.chat-input input');
        const sendButton = document.querySelector('.chat-input button');

        function addMessage(message, isUser = true) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message');
            messageDiv.classList.add(isUser ? 'user-message' : 'ai-message');
            messageDiv.textContent = message;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        sendButton.addEventListener('click', () => {
            const message = chatInput.value.trim();
            if (message) {
                addMessage(message);
                chatInput.value = '';
                // Simulate AI response (in a real app, this would be handled by your backend)
                setTimeout(() => {
                    addMessage("Thank you for your message. As an AI, I'm here to assist you with general advice, but for personalized mentorship, I recommend connecting with one of our human mentors.", false);
                }, 1000);
            }
        });

        chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendButton.click();
            }
        });
    </script>
</body>
</html>
